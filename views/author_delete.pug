extends layout

block content

    h1 #{title}: #{author.name}
    p= author.lifespan

    if author_books.length

        p #[strong Delete the following books before attempting to delete this author.]
        div(style='margin-left:20px;margin-top:20px')
            h4 Books
            dl 
                each book in author_books
                    dt 
                        a(href=book.url) #{book.title}
                    dd #{book.summary}

    else
        p Do you really want to delete this Author?

        form(method='POST')
            div.form-group
                input#authorid.form-control(type='hidden', name='authorid', value=author._id)

            button.btn.btn-primary(type='submit') Delete


//- ğŸ§© Was macht input(type='hidden')?

//- input#authorid.form-control(type='hidden', name='authorid', value=author._id)
//- Dieser input:

//- wird NICHT sichtbar angezeigt (weil type='hidden').
//- trÃ¤gt Daten (hier: die ID des Autors) mit im Formular, ohne dass der Benutzer sie sieht oder verÃ¤ndert.
//- wird beim Absenden des Formulars mitgesendet, genau wie ein normales <input>-Feld.
//- ğŸ” Warum wird das verwendet?

//- In deinem Beispiel:

//- p Do you really want to delete this Author?

//- form(method='POST')
//-     input(type='hidden', name='authorid', value=author._id)
//-     button(type='submit') Delete
//- ğŸ’¡ Zweck:
//- Du zeigst dem Benutzer nur die Frage â€Willst du wirklich lÃ¶schen?â€œ
//- Aber beim Absenden brauchst du eine Info, wen genau du lÃ¶schen willst.
//- Das erledigt das hidden-Feld: Es sendet author._id an den Server mit â€“ im Hintergrund.
//- ğŸ“¤ Beispiel â€“ Gesendete Daten:

//- Wenn du auf â€Deleteâ€œ klickst, wird an den Server z.â€¯B. gesendet:

//- POST /catalog/author/:id/delete
//- Content-Type: application/x-www-form-urlencoded

//- authorid=664fb0bcb4b89134b83c62a2
//- Der Server kann dann z.â€¯B. in deinem Controller so darauf zugreifen:

//- const authorId = req.body.authorid;
//- Author.findByIdAndDelete(authorId)